
FROM centos:latest
RUN yum install -y bash wget curl libGL zlib-devel bzip2-devel openssl-devel ncurses-devel sqlite-devel readline-devel tk-devel  libffi-devel gcc make \
&& wget https://www.python.org/ftp/python/3.7.10/Python-3.7.10.tgz \
&& tar -zxvf Python-3.7.10.tgz \
&& rm -rf Python-3.7.10.tgz \
&& cd Python-3.7.10 \
&& mkdir -p /usr/local/python3 \
&& ./configure \
&& make \
&&  make install \
&& ln -s /usr/local/bin/python3 /usr/bin/python3 \
&& ln -s /usr/local/bin/pip3 /usr/bin/pip3 \
&& pip3 install pyclipper Shapely onnxruntime opencv_python numpy Pillow tornado  jieba==0.39 pypinyin six pycorrector \
&& wget https://raw.githubusercontent.com/postjp/test2021/main/tr.py \
&& wget https://raw.githubusercontent.com/postjp/test2021/main/m.py \
&& wget https://raw.githubusercontent.com/postjp/test2021/main/h.py \
&& cd chineseocr_lite \
&& mv tr.py -f backend/webInterface/tr_run.py \
&& mv m.py -f model.py  \
&& mv h.py -f backend/tools/get_host_ip.py  \
&& mv imgx.py backend/tools/imgx.py

